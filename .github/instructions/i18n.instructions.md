---
applyTo: '**/*.tsx'
---

# i18n Instructions

This document provides guidelines for implementing internationalization (i18n) in the Visionarai project. It outlines the structure, tools, and best practices for managing translations and ensuring a consistent user experience across different languages.

- Use correct and consistent copy for all UI elements.
- Ensure that all text is internalized and can be easily translated.
- Do not use hardcoded strings in the UI components.
- All translations are in the [`messages`](../../messages) directory.
  - Update the `messages` directory with new translations as needed.
  - [`en.json`](../../messages/en.json) is the default language file.
  - [`de.json`](../../messages/de.json) is the German language file.
- For server async components, use the `import {getTranslations} from 'next-intl/server';` and `const t = await getTranslations('HomePage');` function to fetch translations.
- For client components, use the `import {useTranslations} from 'next-intl';` hook and ` const t = useTranslations('HomePage');` to fetch translations.
- Ensure that all text content is wrapped in the `t` function to enable translation, e.g. `t('welcomeMessage')`.

## Guidelines for the `messages` Directory

- The `messages` directory contains JSON files for each language supported by the application.
- **Namespace**: Each JSON file should be namespaced by the feature or component it belongs to, e.g. `HomePage`, `AboutPage`, `Common` etc.
- **Keys**: Use descriptive keys that clearly indicate the purpose of the text, e.g. `welcomeMessage`, `submitButton`, `errorMessage`.
- **Structure**: Organize the JSON files in a way that reflects the structure of the application, making it easy to find and manage translations.

## Leveraging `next-intl`

### Static messages

```json
// en.json
{
  "message": "Hello world!"
}
```

```tsx
// ExampleComponent.tsx

t('message'); // "Hello world!"
```

### Interpolation of dynamic values

```json
// en.json
{
  "greeting": "Hello {name}!"
}
```

```tsx
// ExampleComponent.tsx
t('greeting', { name: 'Jane' }); // "Hello Jane!"
```

### Cardinal pluralization

```json
// en.json
{
  "message": "You have {count, plural, =0 {no followers yet} =1 {one follower} other {# followers}}."
}
```

```tsx
// ExampleComponent.tsx
t('message', { count: 0 }); // "You have no followers yet."
t('message', { count: 1 }); // "You have one follower."
t('message', { count: 5 }); // "You have 5 followers."
```

### Ordinal pluralization

```json
// en.json
{
  "message": "It's your {year, selectordinal, one {#st} two {#nd} few {#rd} other {#th}} birthday!"
}
```

```tsx
// ExampleComponent.tsx
t('message', { year: 1 }); // "It's your 1st birthday!"
t('message', { year: 2 }); // "It's your 2nd birthday!"
t('message', { year: 3 }); // "It's your 3rd birthday!"
t('message', { year: 4 }); // "It's your 4th birthday!"
t('message', { year: 21 }); // "It's your 21st birthday!"
t('message', { year: 22 }); // "It's your 22nd birthday!"
t('message', { year: 23 }); // "It's your 23rd birthday!"
t('message', { year: 24 }); // "It's your 24th birthday!"
```

### Selecting enum-based values

```json
// en.json
{
  "message": "{gender, select, female {She} male {He} other {They}} is online."
}
```

```tsx
t('message', { gender: 'female' }); // "She is online."
t('message', { gender: 'male' }); // "He is online."
t('message', { gender: 'other' }); // "They is online."
```

### Rich text

```json
// en.json
{
  "message": "Please refer to <guidelines>the guidelines</guidelines>."
}
```

```tsx
// Returns `<>Please refer to <a href="/guidelines">the guidelines</a>.</>`
t.rich('message', {
  guidelines: chunks => <a href="/guidelines">{chunks}</a>,
});
```

### HTML markup

```json
// en.json
{
  "markup": "This is <important>important</important>"
}
```

```tsx
// Returns 'This is <b>important</b>'
t.markup('markup', {
  important: chunks => `<b>${chunks}</b>`,
});
```

### Number formatting

#fetch https://next-intl.dev/docs/usage/numbers

### Date and time formatting

#fetch https://next-intl.dev/docs/usage/dates-times

### List formatting

fetch https://next-intl.dev/docs/usage/lists
